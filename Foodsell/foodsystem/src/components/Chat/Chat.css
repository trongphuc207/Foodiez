/* Chat UI theme */
:root {
  --chat-border: #e7ebf0;
  --chat-bg: #ffffff;
  --chat-sidebar-bg: #f7f9fc;
  --chat-accent: #4966ff;
  --chat-accent-2: #7b9bff;
  --chat-muted: #6b7280;
  --chat-strong: #111827;
  --chat-bubble-me: #eaf0ff;
  --chat-bubble-other: #ffffff;
}

.chat-layout {
  display: flex;
  height: 78vh;
  border: 1px solid var(--chat-border);
  border-radius: 14px;
  overflow: hidden;
  background: var(--chat-bg);
  box-shadow: 0 10px 30px rgba(17, 24, 39, 0.08);
}

.chat-sidebar {
  width: 320px;
  max-width: 36%;
  background: var(--chat-sidebar-bg);
  border-right: 1px solid var(--chat-border);
  display:flex; flex-direction:column;
}
.chat-sidebar-header{padding:14px 16px;font-weight:700;color:var(--chat-strong);border-bottom:1px solid var(--chat-border)}
.chat-search { display:flex; gap:8px; padding: 10px 12px; border-bottom: 1px solid var(--chat-border); }
.chat-search input{flex:1; padding:10px 12px; border:1px solid var(--chat-border); border-radius:10px; background:#fff; outline:none}
.chat-search input:focus{ border-color: var(--chat-accent); }
.chat-search button{padding:10px 14px; border:1px solid var(--chat-accent); background:var(--chat-accent); color:#fff; border-radius:10px; cursor:pointer; font-weight:600}
.chat-conv-list{overflow-y:auto; padding: 10px;}
.chat-conv-item { padding: 10px 12px; cursor: pointer; border-radius: 12px; transition: background .15s ease, transform .05s ease; border:1px solid transparent; display:flex; align-items:center; gap:10px; }
.chat-conv-item .avatar {width:34px;height:34px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:#e9edff;color:#3b57ff;font-weight:700}
.chat-conv-item .meta{flex:1;min-width:0}
.chat-conv-item .title{font-weight:600;color:#111827;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.chat-conv-item .sub{font-size:12px;color:var(--chat-muted)}
.chat-conv-item.active, .chat-conv-item:hover { background: #eef3ff; border-color:#dbe6ff }
.chat-conv-item:active{ transform:scale(0.995) }

.chat-window { flex: 1; display:flex; flex-direction:column; }
.chat-header{display:flex; align-items:center; justify-content:space-between; padding:14px 18px; border-bottom:1px solid var(--chat-border); background: linear-gradient(90deg, rgba(73,102,255,0.08), rgba(73,102,255,0.02));}
.chat-header .title{font-weight:700;color:#0f172a}
.chat-header .right a{color:var(--chat-muted); font-size:13px; cursor:pointer}

.chat-messages { flex: 1; padding: 18px; overflow-y: auto; background:#f7fafc; }
.chat-empty{flex:1;display:flex;align-items:center;justify-content:center;color:var(--chat-muted)}
.date-sep{display:flex;align-items:center;gap:12px;margin:14px 0;color:#6b7280;font-size:12px}
.date-sep:before,.date-sep:after{content:"";flex:1;height:1px;background:#e5e7eb}
.chat-message { position:relative; margin: 8px 0; max-width: 72%; padding: 10px 12px; border-radius: 14px; line-height:1.4; white-space:pre-wrap; box-shadow:0 1px 0 rgba(0,0,0,0.03)}
.chat-message.mine { background: var(--chat-bubble-me); margin-left:auto; border:1px solid #d7e2ff; }
.chat-message.other { background: var(--chat-bubble-other); border:1px solid #eef1f4; }
.chat-message.mine:after{content:""; position:absolute; right:-6px; bottom:8px; width:10px; height:10px; background:var(--chat-bubble-me); border-right:1px solid #d7e2ff; border-bottom:1px solid #d7e2ff; transform:rotate(45deg)}
.chat-message.other:after{content:""; position:absolute; left:-6px; bottom:8px; width:10px; height:10px; background:var(--chat-bubble-other); border-left:1px solid #eef1f4; border-bottom:1px solid #eef1f4; transform:rotate(45deg)}
.chat-tools { display:flex; justify-content:space-between; align-items:center; margin-top:6px; }
.chat-tools .time{font-size:11px;color:var(--chat-muted)}
.report-link { color:var(--chat-muted); cursor:pointer; font-size:12px; }

.chat-input { display:flex; gap:10px; padding: 12px; border-top: 1px solid var(--chat-border); background:#fff; }
.chat-input textarea{ flex:1; padding: 12px 14px; border:1px solid var(--chat-border); border-radius: 12px; resize:none; max-height:140px; outline:none }
.chat-input textarea:focus{ border-color: var(--chat-accent) }
.chat-input button{ padding: 10px 16px; border:none; background:linear-gradient(135deg,var(--chat-accent),var(--chat-accent-2)); color:white; border-radius:12px; cursor:pointer; font-weight:700 }
.chat-input button:disabled{ background:#c7dafc; cursor:not-allowed }

/* Mobile */
@media (max-width: 900px){ .chat-sidebar{ width: 38%; } }
@media (max-width: 700px){ .chat-sidebar{ display:none; } }
